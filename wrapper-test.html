<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Dynamsoft JavaScript Barcode Scanner</title>
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-javascript-barcode@9.0.2/dist/dbr.js"></script>
    <script src="dbr-scanner-wrapper.js"></script>

</head>

<body>
    <button onclick="show()">Scanner</button>
    <!-- <button onclick="show()">Show Overlay</button>
    <button onclick="hide()">Hide Overlay</button>
    <div>
        Barcode Result: <a id='result'>N/A</a>
    </div>
    <div id="barcodeScanner">
        <span id='loading-status' style='font-size:x-large'>Loading Library...</span>
    </div> -->

    <!-- <div id="camerasource"></div>
    <div id="cameraview"></div> -->
    <script>
        Dynamsoft.DBR.BarcodeReader.license = "DLS2eyJoYW5kc2hha2VDb2RlIjoiMjAwMDAxLTE2NDk4Mjk3OTI2MzUiLCJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSIsInNlc3Npb25QYXNzd29yZCI6IndTcGR6Vm05WDJrcEQ5YUoifQ==";
        var scanner = null;
        var wrapper = new DBRWrapper();
        (async () => {
            scanner = await wrapper.createDefaultScanner((result) => {
                console.log(result);
                // document.getElementById('result').innerHTML = result;
            });
            wrapper.clearOverlay()
            await scanner.show();
            wrapper.patchOverlay();
        })();

        function show() {
            (async () => {
                wrapper.clearOverlay()
                await scanner.show();
                wrapper.patchOverlay();
            })();
        }


        // function show() {
        //     if (wrapper) wrapper.showOverlay();
        // }

        // function hide() {
        //     if (wrapper) wrapper.hideOverlay();
        // }
    </script>
</body>

</html>